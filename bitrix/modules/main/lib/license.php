<? namespace Bitrix\Main;$GLOBALS['____1923856978']= array(base64_decode('Z'.'m'.'l'.'sZV'.'9leGlzdH'.'M='),base64_decode(''.'c3Ry'.'dG91c'.'HBlcg=='),base64_decode(''.'b'.'WQ1'),base64_decode('bWQ1'),base64_decode('aW5fYXJyYXk='),base64_decode(''.'a'.'W5fYXJyYXk'.'='),base64_decode('aW5f'.'YX'.'JyYXk='),base64_decode('ZGVmaW'.'5l'.'ZA=='),base64_decode('ZG'.'VmaW'.'5'.'l'.'ZA='.'='),base64_decode('ZGVmaW5lZA=='),base64_decode(''.'ZmlsZV9l'.'e'.'GlzdHM'.'='),base64_decode('ZmlsZV9leGlzd'.'HM='),base64_decode('ZmlsZV9le'.'Gl'.'zdHM='),base64_decode(''.'ZmlsZV'.'9leGlzdHM='),base64_decode('Z'.'Xh'.'wbG9'.'kZ'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___1241430764')){function ___1241430764($_2016141027){static $_1847540711= false; if($_1847540711 == false) $_1847540711=array('L2JpdHJp'.'eC9'.'s'.'aWNlbnNlX2t'.'l'.'eS5waH'.'A=','','','REVNTw==',''.'REV'.'NT'.'w==','QklUU'.'klY','T'.'El'.'DR'.'U5DRQ==','RE'.'V'.'NTw'.'='.'=','L2t'.'le'.'V91cGRhd'.'GUucGhwP2x'.'pY'.'2'.'Vuc2Vfa2V5'.'PQ==','JnRvYmFz'.'a2'.'V0'.'PXkmbGFuZz0=',''.'cnU=','a3o=','Ynk=','aHR0'.'cHM6Ly9kZXYu'.'MWMtYml'.'0cml4'.'LnJ1L2x'.'lYX'.'Ju'.'aW5nL2NvdXJzZS9pbmRleC5w'.'a'.'H'.'A/Q'.'09VUlNFX0'.'lEPT'.'E'.'zNSZMRVN'.'T'.'T05fSUQ'.'9MjU'.'3M'.'jA=','a'.'H'.'R0c'.'HM6Ly90cm'.'F'.'p'.'bmluZy5iaXRyaXgyNC5jb'.'20vc'.'3VwcG'.'9yd'.'C90'.'cmFpbmluZy'.'9jb'.'3Vy'.'c2UvaW5'.'kZXguc'.'GhwP'.'0NPVVJTRV9JRD'.'0xNzgmTE'.'V'.'TU09OX0l'.'EPTI'.'1O'.'TMyJk'.'xF'.'U1NPTl9QQVR'.'IPT'.'E3NT'.'IwL'.'j'.'E'.'3NTY'.'yL'.'jI1O'.'TMwLjI'.'1OTMy',''.'cnU=','Ynk'.'=',''.'a3'.'o=','Z'.'GU'.'=','ZXU=','ZnI'.'=','cGw=','aXQ=','d'.'Ws=',''.'ZX'.'U'.'=',''.'Y2'.'9t','ZW4=','REV'.'NTw'.'==',''.'WQ='.'=',''.'V'.'ElN'.'RUxJTUlUX'.'0VESVRJ'.'T0'.'4=','WQ==','RU5DT0R'.'F','WQ==',''.'U2'.'l0ZU'.'V'.'4cGly'.'ZURh'.'dGU=','bWFp'.'b'.'g==','fnN'.'1cHB'.'vcnRfZ'.'mluaXN'.'oX'.'2Rh'.'dGU=','WS1tL'.'WQ=','W'.'S'.'1t'.'LWQ'.'=','Yml'.'0cml4'.'M'.'j'.'Q=','b'.'WFp'.'bg='.'=','flBBU'.'k'.'FNX0NMSU'.'VOV'.'F9MQU5H','aW50'.'cmFuZXQ=','ZW4=','cnU'.'=','bWF'.'pbg==','dmVuZ'.'G9'.'y','d'.'WFfYm'.'l0c'.'ml4'.'X3BvcnRhbA==','dWE=','Y'.'ml0cml4X3'.'BvcnRhbA'.'==','ZW4=','MWNf'.'Yml0cm'.'l4'.'X3Bv'.'cnRhbA==',''.'c'.'nU'.'=','L2Jp'.'dHJ'.'peC9'.'tb2R1bGV'.'zL21haW4vbG'.'F'.'uZy91YQ==','dWE=',''.'L2'.'JpdHJpeC9tb2R'.'1bGV'.'zL2'.'1haW'.'4vbG'.'FuZy9'.'ieQ==','Ynk=','L2JpdHJ'.'peC9tb2R1b'.'GVzL'.'21'.'h'.'aW4'.'v'.'bG'.'FuZy9reg==',''.'a'.'3o=','L2JpdHJpeC9'.'tb2'.'R1b'.'G'.'VzL21ha'.'W4'.'vbG'.'F'.'uZ'.'y'.'9ydQ==','c'.'nU=','bWFpbg==','flBBUkFN'.'X1'.'BB'.'UlR'.'OR'.'VJfS'.'UQ'.'=','bWF'.'pbg'.'==','UEF'.'S'.'QU1fTU'.'FYX1VTRV'.'JT','bWF'.'pbg==','fkNPVU5UX0VYVFJB','Tg==',''.'W'.'Q==','ZXh0cmFuZXQ=',''.'Q'.'U'.'5'.'EIFUuTEFTV'.'F9MT0dJT'.'i'.'A+IA='.'=','Q'.'U5EIFUu'.'T'.'EF'.'T'.'V'.'F9MT0d'.'J'.'Ti'.'BJUyBOT1QgT'.'l'.'VMT'.'A'.'==','aW5'.'0'.'cmFuZXQ=','ZXh0'.'cm'.'Fu'.'Z'.'XQ=','ZXh0cm'.'Fu'.'ZXRfZ'.'3Jvd'.'X'.'A=','bWF'.'p'.'bg==','fm'.'xpY2'.'Vuc2VfbmFtZQ==','b'.'W'.'F'.'pbg==',''.'fm'.'xpY2'.'Vuc2V'.'fY29'.'kZX'.'M=','','LA==');return base64_decode($_1847540711[$_2016141027]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1032897884= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1032897884 === null){ $_1283952325= Loader::getDocumentRoot(). ___1241430764(0); $LICENSE_KEY= ___1241430764(1); if($GLOBALS['____1923856978'][0]($_1283952325)){ include($_1283952325);} $this->_1032897884=($LICENSE_KEY == ___1241430764(2) || $GLOBALS['____1923856978'][1]($LICENSE_KEY) == ___1241430764(3)? ___1241430764(4): $LICENSE_KEY);} return $this->_1032897884;} public function getHashLicenseKey(): string{ return $GLOBALS['____1923856978'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1923856978'][3](___1241430764(5). $this->getKey(). ___1241430764(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1241430764(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1241430764(8). $this->getHashLicenseKey(). ___1241430764(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1811327539= $this->getRegion(); if($GLOBALS['____1923856978'][4]($_1811327539,[___1241430764(10), ___1241430764(11), ___1241430764(12)])){ return ___1241430764(13);} return ___1241430764(14);} public function getRenewalLink(): string{ $_1811327539= $this->getRegion(); if($GLOBALS['____1923856978'][5]($_1811327539,[___1241430764(15), ___1241430764(16), ___1241430764(17), ___1241430764(18)])){ return self::URL_RENEWAL_LICENSE[$_1811327539];} if($GLOBALS['____1923856978'][6]($_1811327539,[___1241430764(19), ___1241430764(20), ___1241430764(21), ___1241430764(22), ___1241430764(23)])){ return self::URL_RENEWAL_LICENSE[___1241430764(24)];} return self::URL_RENEWAL_LICENSE[___1241430764(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1241430764(26)];} public function isDemo(): bool{ return $GLOBALS['____1923856978'][7](___1241430764(27)) && DEMO === ___1241430764(28);} public function isTimeBound(): bool{ return $GLOBALS['____1923856978'][8](___1241430764(29)) && TIMELIMIT_EDITION === ___1241430764(30);} public function isEncoded(): bool{ return $GLOBALS['____1923856978'][9](___1241430764(31)) && ENCODE === ___1241430764(32);} public function getExpireDate():?Date{ $_565915554= (int)($GLOBALS[___1241430764(33)] ?? min(176,0,58.666666666667)); if($_565915554> min(244,0,81.333333333333)){ return Date::createFromTimestamp($_565915554);} return null;} public function getSupportExpireDate():?Date{ $_565915554= Option::get(___1241430764(34), ___1241430764(35)); if(Date::isCorrect($_565915554, ___1241430764(36))){ return new Date($_565915554, ___1241430764(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1241430764(38))){ return \CBitrix24::getPortalZone();} $_1811327539= Option::get(___1241430764(39), ___1241430764(40)); if(!empty($_1811327539)){ return $_1811327539;} $_1811327539= $this->__402202966(); if(!empty($_1811327539)){ return $_1811327539;} return $this->__382895752();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1241430764(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1241430764(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1241430764(43)];} private function __402202966():?string{ $_1698437553= Option::get(___1241430764(44), ___1241430764(45)); if($_1698437553 === ___1241430764(46)){ return ___1241430764(47);} if($_1698437553 === ___1241430764(48)){ return ___1241430764(49);} if($_1698437553 === ___1241430764(50)){ return ___1241430764(51);} return null;} private function __382895752():?string{ $_730363187= Application::getDocumentRoot(); if($GLOBALS['____1923856978'][10]($_730363187. ___1241430764(52))){ return ___1241430764(53);} if($GLOBALS['____1923856978'][11]($_730363187. ___1241430764(54))){ return ___1241430764(55);} if($GLOBALS['____1923856978'][12]($_730363187. ___1241430764(56))){ return ___1241430764(57);} if($GLOBALS['____1923856978'][13]($_730363187. ___1241430764(58))){ return ___1241430764(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1241430764(60), ___1241430764(61), min(68,0,22.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___1241430764(62), ___1241430764(63),(1004/2-502));} public function isExtraCountable(): bool{ return Option::get(___1241430764(64), ___1241430764(65), ___1241430764(66)) === ___1241430764(67) && ModuleManager::isModuleInstalled(___1241430764(68));} public function getActiveUsersCount(Date $_885515848= null): int{ $_671724226= Application::getConnection(); $_1215890805=(1396/2-698); if($_885515848 !== null){  $_2108326983= ___1241430764(69).$_671724226->getSqlHelper()->convertToDbDate($_885515848);} else{  $_2108326983= ___1241430764(70);} if(ModuleManager::isModuleInstalled(___1241430764(71))){ $_1667633889="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_2108326983}
			"; $_1215890805= (int)$_671724226->queryScalar($_1667633889); $_571097544= (int)Option::get(___1241430764(72), ___1241430764(73)); if($_571097544>(1288/2-644) && $this->isExtraCountable()){ $_1667633889="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_571097544}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_2108326983}
							AND D.VALUE_ID IS NULL
					"; $_1215890805 += (int)$_671724226->queryScalar($_1667633889);}} return $_1215890805;}  public function getName(): string{ return Option::get(___1241430764(74), ___1241430764(75));}  public function getCodes(): array{ $_1114508170= Option::get(___1241430764(76), ___1241430764(77)); if($_1114508170 != ___1241430764(78)){ return $GLOBALS['____1923856978'][14](___1241430764(79), $_1114508170);} return[];}}?>